"use strict";var i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},r=function(){function n(t,e){for(var o=0;o<e.length;o++){var n=e[o];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(t,e,o){return e&&n(t.prototype,e),o&&n(t,o),t}}();function s(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}!function i(r,s,l){function u(e,t){if(!s[e]){if(!r[e]){var o="function"==typeof require&&require;if(!t&&o)return o(e,!0);if(d)return d(e,!0);var n=new Error("Cannot find module '"+e+"'");throw n.code="MODULE_NOT_FOUND",n}var a=s[e]={exports:{}};r[e][0].call(a.exports,function(t){return u(r[e][1][t]||t)},a,a.exports,i,r,s,l)}return s[e].exports}for(var d="function"==typeof require&&require,t=0;t<l.length;t++)u(l[t]);return u}({1:[function(t,e,o){Object.defineProperty(o,"__esModule",{value:!0});var g=t("../utils/utils"),b=t("../config/config"),m=void 0,n=(r(a,[{key:"get",value:function(){var e=this;fetch(this.detailurl,{method:"POST",mode:"cors",credentials:"include",headers:{"Content-Type":"application/x-www-form-urlencoded"},body:"functionId=bombnian_getTaskDetail&body={}&client=wh5&clientVersion=1.0.0"}).then(function(t){return t.json()}).then(function(t){e.data=t.data.result,e.outputTextarea.value="获取数据成功\n已加购物车："+e.data.taskVos[1].times+"/"+e.data.taskVos[1].productInfoVos.length+"\n已逛店铺："+e.data.taskVos[2].times+"/"+e.data.taskVos[2].browseShopVo.length+"\n已逛会场："+e.data.taskVos[3].times+"/"+e.data.taskVos[3].shoppingActivityVos.length+"\n已参与互动："+e.data.taskVos[4].times+"/"+e.data.taskVos[4].shoppingActivityVos.length+"\n已看直播："+e.data.taskVos[5].times+"/"+e.data.taskVos[5].shoppingActivityVos.length+"\n已LBS定位："+e.data.taskVos[6].times+"/1",e.list()}),m=document.getElementsByTagName("button")}},{key:"list",value:function(){var e=this,t=document.createElement("div");t.innerHTML='\n        <div style="margin:10px;">\n        <button class="everyday" style="width: 120px;height:30px;background-color: #2196F3;border-radius: 5px;border: 0;color:#fff;margin:5px auto;display:block">开启每日自动</button>\n        <button class="auto" style="width: 120px;height:30px;background-color: #2196F3;border-radius: 5px;border: 0;color:#fff;margin:5px auto;display:block">一键自动完成</button>\n        <button class="raise" style="width: 120px;height:30px;background-color: #2196F3;border-radius: 5px;border: 0;color:#fff;margin:5px auto;display:block">炸年兽</button>\n        <button class="shop" style="width: 120px;height:30px;background-color: #2196F3;border-radius: 5px;border: 0;color:#fff;margin:5px auto;display:block">逛逛好店</button>\n        <button class="product" style="width: 120px;height:30px;background-color: #2196F3;border-radius: 5px;border: 0;color:#fff;margin:5px auto;display:block">好物加购</button>\n        <button class="shopping" style="width: 120px;height:30px;background-color: #2196F3;border-radius: 5px;border: 0;color:#fff;margin:5px auto;display:block">逛逛会场</button>\n        <button class="activity" style="width: 120px;height:30px;background-color: #2196F3;border-radius: 5px;border: 0;color:#fff;margin:5px auto;display:block">好玩互动</button>\n        <button class="video" style="width: 120px;height:30px;background-color: #2196F3;border-radius: 5px;border: 0;color:#fff;margin:5px auto;display:block">视频直播</button>\n        <button class="record" style="width: 120px;height:30px;background-color: #2196F3;border-radius: 5px;border: 0;color:#fff;margin:5px auto;display:block">LBS定位</button>\n        <button class="nianHelp" style="width: 120px;height:30px;background-color: #2196F3;border-radius: 5px;border: 0;color:#fff;margin:5px auto;display:block">帮作者年兽助力</button>\n        <button class="teamHelp" style="width: 120px;height:30px;background-color: #2196F3;border-radius: 5px;border: 0;color:#fff;margin:5px auto;display:block">帮作者战队助力</button>\n        <button class="invite" style = "width: 120px;height:30px;background-color: #2196F3;border-radius: 5px;border: 0;color:#fff;margin:5px auto;display:block">获取邀请链接</button>\n        </div>',this.container.appendChild(t);var o=document.querySelector(".shop"),n=document.querySelector(".nianHelp"),a=document.querySelector(".teamHelp"),i=document.querySelector(".activity"),r=document.querySelector(".video"),s=document.querySelector(".record"),l=document.querySelector(".shopping"),u=document.querySelector(".invite"),d=document.querySelector(".raise"),c=document.querySelector(".auto"),p=document.querySelector(".product"),f=document.querySelector(".everyday");o.addEventListener("click",function(){for(var t=0;t<m.length;t++)m[t].disabled=!0,m[t].style.color="#c1c1c1";g.default.outPutLog(e.outputTextarea,(new Date).toLocaleString()+" 开始自动逛逛好店任务！"),e.send(e.data.taskVos[2].browseShopVo,e.data.taskVos[2].taskId,-1,"逛逛好店")}),p.addEventListener("click",function(){for(var t=0;t<m.length;t++)m[t].disabled=!0,m[t].style.color="#c1c1c1";g.default.outPutLog(e.outputTextarea,(new Date).toLocaleString()+" 开始自动好物加购任务！"),e.send(e.data.taskVos[1].productInfoVos,e.data.taskVos[1].taskId,-1,"好物加购")}),l.addEventListener("click",function(){for(var t=0;t<m.length;t++)m[t].disabled=!0,m[t].style.color="#c1c1c1";g.default.outPutLog(e.outputTextarea,(new Date).toLocaleString()+" 开始自动逛逛会场任务！"),e.send(e.data.taskVos[3].shoppingActivityVos,e.data.taskVos[3].taskId,-1,"逛逛会场")}),i.addEventListener("click",function(){for(var t=0;t<m.length;t++)m[t].disabled=!0,m[t].style.color="#c1c1c1";g.default.outPutLog(e.outputTextarea,(new Date).toLocaleString()+" 开始自动好玩互动任务！"),e.send(e.data.taskVos[4].shoppingActivityVos,e.data.taskVos[4].taskId,-1,"好玩互动")}),r.addEventListener("click",function(){for(var t=0;t<m.length;t++)m[t].disabled=!0,m[t].style.color="#c1c1c1";g.default.outPutLog(e.outputTextarea,(new Date).toLocaleString()+" 开始自动视频直播任务！"),e.send(e.data.taskVos[5].shoppingActivityVos,e.data.taskVos[5].taskId,-1,"视频直播")}),s.addEventListener("click",function(){for(var t=0;t<m.length;t++)m[t].disabled=!0,m[t].style.color="#c1c1c1";g.default.outPutLog(e.outputTextarea,(new Date).toLocaleString()+" 开始自动LBS定位任务！"),e.send([e.data.taskVos[6].simpleRecordInfoVo],e.data.taskVos[6].taskId,-1,"LBS定位")}),u.addEventListener("click",function(){g.default.copyText("https://bunearth.m.jd.com/babelDiy/SGFJVMOZADGTQCZWGEYU/4PWgqmrFHunn8C38mJA712fufguU/index.html?shareType=taskHelp&inviteId="+e.data.inviteId+"&taskId=1&itemId="+e.data.taskVos[0].assistTaskDetailVo.itemId+"&shareFrom=key")}),n.addEventListener("click",function(){for(var t=0;t<m.length;t++)m[t].disabled=!0,m[t].style.color="#c1c1c1";e.invite()}),a.addEventListener("click",function(){for(var t=0;t<m.length;t++)m[t].disabled=!0,m[t].style.color="#c1c1c1";e.assist()}),d.addEventListener("click",function(){for(var t=0;t<m.length;t++)m[t].disabled=!0,m[t].style.color="#c1c1c1";e.raise()});var h=document.createEvent("MouseEvents");h.initEvent("click",!0,!0),c.addEventListener("click",function(){for(var t=0;t<m.length;t++)m[t].disabled=!0,m[t].style.color="#c1c1c1";g.default.outPutLog(e.outputTextarea,(new Date).toLocaleString()+" 开始自动完成所有任务！"),e.assist(0),e.send(e.data.taskVos[2].browseShopVo,e.data.taskVos[2].taskId,1,"逛逛好店"),e.send(e.data.taskVos[1].productInfoVos,e.data.taskVos[1].taskId,2,"好物加购"),e.send(e.data.taskVos[3].shoppingActivityVos,e.data.taskVos[3].taskId,3,"逛逛会场"),e.send(e.data.taskVos[4].shoppingActivityVos,e.data.taskVos[4].taskId,4,"好玩互动"),e.send(e.data.taskVos[5].shoppingActivityVos,e.data.taskVos[5].taskId,5,"视频直播"),e.send([e.data.taskVos[6].simpleRecordInfoVo],e.data.taskVos[6].taskId,6,"LBS定位"),e.raise(7)}),f.addEventListener("click",function(){var o=0;b.default.autoEveryDay=!b.default.autoEveryDay,f.innerHTML=b.default.autoEveryDay?"取消每日自动":"开启每日自动",g.default.outPutLog(e.outputTextarea,b.default.autoEveryDay?"已开启每日自动【开启后立即执行一次，往后每天10点后执行，监测频率30~60分钟/次】":"已取消每日自动"),setInterval(function(){fetch(b.default.JDTimeInfoURL).then(function(t){return t.json()}).then(function(t){var e=g.default.formatDate2(t.time);b.default.autoEveryDay&&(0==o||o<+e&&10<=new Date(+t.time).getHours())&&(o=+e,c.dispatchEvent(h))})},0==o?b.default.timeoutSpan:18e5+g.default.random(0,18e5))})}},{key:"send",value:function(o,n,t,e){var a=2<arguments.length&&void 0!==t?t:-1,i=3<arguments.length&&void 0!==e?e:"",r=this,s=0,l=o.length,u=l;s=setInterval(function(){if(a<0||b.default.taskProgress==a)if(l-u+1<=l){var t='functionId=bombnian_collectScore&body={"taskId":'+n+',"itemId":"'+o[l-u].itemId+'"}&client=wh5&clientVersion=1.0.0';fetch("https://api.m.jd.com/client.action?functionId=bombnian_collectScore",{method:"POST",mode:"cors",credentials:"include",headers:{"Content-Type":"application/x-www-form-urlencoded"},body:t}).then(function(t){return t.json()}).then(function(t){g.default.outPutLog(r.outputTextarea,(new Date).toLocaleString()+" 操作成功！任务序号："+(l-u+1)+"/"+l)}).finally(function(){u--})}else if(clearInterval(s),g.default.outPutLog(r.outputTextarea,(new Date).toLocaleString()+" "+i+"任务已完成！"),0<=a&&b.default.taskProgress<b.default.taskCount&&b.default.taskProgress++,a<0||b.default.taskProgress>=b.default.taskCount)for(var e=b.default.taskProgress=0;e<m.length;e++)m[e].disabled=!1,m[e].style.color="#fff"},b.default.timeoutSpan+g.default.random(300,500))}},{key:"invite",value:function(t){var o=this,n=0<arguments.length&&void 0!==t?t:-1;fetch("https://api.m.jd.com/client.action?functionId=bombnian_collectScore",{method:"POST",mode:"cors",credentials:"include",headers:{"Content-Type":"application/x-www-form-urlencoded"},body:'functionId=bombnian_collectScore&body={"inviteId":"Vl4IS9IxFiFRKK03o2z4N00rIdUjYSNNrNbb33xbWRb_MgJ4eQXThFU","taskId":1,"itemId":"AUWE5m6nEmzUNAGT72X8bww"}&client=wh5&clientVersion=1.0.0'}).then(function(t){return t.json()}).then(function(t){if(g.default.outPutLog(o.outputTextarea,(new Date).toLocaleString()+" 年兽助力成功！感谢您的帮助！"),0<=n&&b.default.taskProgress<b.default.taskCount&&b.default.taskProgress++,n<0||b.default.taskProgress>=b.default.taskCount)for(var e=b.default.taskProgress=0;e<m.length;e++)m[e].disabled=!1,m[e].style.color="#fff"})}},{key:"join",value:function(){var e=this;fetch("https://api.m.jd.com/client.action?functionId=bombnian_pk_joinGroup",{method:"POST",mode:"cors",credentials:"include",headers:{"Content-Type":"application/x-www-form-urlencoded"},body:'functionId=bombnian_pk_joinGroup&body={"inviteId":"VlU-EZopQidWJ6s2oG2sfIHInYsPApTbtntxKA1MAWPJSGYsX6Se6Dv3","confirmFlag":1}&client=wh5&clientVersion=1.0.0'}).then(function(t){return t.json()}).then(function(t){0==t.data.bizCode?g.default.outPutLog(e.outputTextarea,(new Date).toLocaleString()+" 操作成功！加入成功！"):g.default.outPutLog(e.outputTextarea,(new Date).toLocaleString()+" 操作失败，好像满人了哦！")})}},{key:"assist",value:function(t){var o=this,n=0<arguments.length&&void 0!==t?t:-1;fetch("https://api.m.jd.com/client.action?functionId=bombnian_pk_assistGroup",{method:"POST",mode:"cors",credentials:"include",headers:{"Content-Type":"application/x-www-form-urlencoded"},body:'functionId=bombnian_pk_assistGroup&body={"confirmFlag":1,"inviteId":"XUkkFpUhDG0OdMYwozv_YY5SkhEKcO-qgLkW-fbCIbLmH0um0yWFpM2hn4s70aY"}&client=wh5&clientVersion=1.0.0'}).then(function(t){return t.json()}).then(function(t){if(g.default.outPutLog(o.outputTextarea,(new Date).toLocaleString()+" 战队助力成功！感谢您的帮助！"),0<=n&&b.default.taskProgress<b.default.taskCount&&b.default.taskProgress++,n<0||b.default.taskProgress>=b.default.taskCount)for(var e=b.default.taskProgress=0;e<m.length;e++)m[e].disabled=!1,m[e].style.color="#fff"})}},{key:"raise",value:function(t){var o=this,n=0<arguments.length&&void 0!==t?t:-1,a=0;a=setInterval(function(){(n<0||b.default.taskProgress==n)&&fetch("https://api.m.jd.com/client.action?functionId=bombnian_raise",{method:"POST",mode:"cors",credentials:"include",headers:{"Content-Type":"application/x-www-form-urlencoded"},body:"functionId=bombnian_raise&body={}&client=wh5&clientVersion=1.0.0"}).then(function(t){return t.json()}).then(function(t){if(0==t.data.bizCode)g.default.outPutLog(o.outputTextarea,(new Date).toLocaleString()+" 炸年兽操作成功！奖励:"+JSON.stringify(t.data.result.levelUpAward.score));else if(clearInterval(a),g.default.outPutLog(o.outputTextarea,(new Date).toLocaleString()+" 炸年兽任务已完成！"),0<=n&&b.default.taskProgress<b.default.taskCount&&b.default.taskProgress++,n<0||b.default.taskProgress>=b.default.taskCount)for(var e=b.default.taskProgress=0;e<m.length;e++)m[e].disabled=!1,m[e].style.color="#fff"})},b.default.timeoutSpan+g.default.random(300,500))}}]),a);function a(t,e,o){s(this,a),this.detailurl="https://api.m.jd.com/client.action?functionId=bombnian_getTaskDetail",this.data=[],this.timer=1e3,this.params=t,this.container=e,this.outputTextarea=o,this.outputTextarea.value="当你看到这行文字时，说明你还没有配置好浏览器UA！",b.default.taskCount=8}o.default=n},{"../config/config":3,"../utils/utils":13}],2:[function(t,e,o){Object.defineProperty(o,"__esModule",{value:!0});var l=t("../utils/utils"),u=t("../config/config"),d=void 0,n=(r(a,[{key:"get",value:function(){this.list(),d=document.getElementsByTagName("button")}},{key:"list",value:function(){var e=this,t=document.createElement("div");t.innerHTML='\n        <div style="margin:10px;">\n\t    <button class="everyday" style="width: 200px;height:30px;background-color: #2196F3;border-radius: 5px;border: 0;color:#fff;margin:5px auto;display:block">开启每日自动</button>\n        <button class="auto" style="width: 200px;height:30px;background-color: #2196F3;border-radius: 5px;border: 0;color:#fff;margin:5px auto;display:block">一键自动完成</button>\n        <button class="visit" style="width: 200px;height:30px;background-color: #2196F3;border-radius: 5px;border: 0;color:#fff;margin:5px auto;display:block">浏览店铺</button>\n        <button class="linkgame" style="width: 200px;height:30px;background-color: #2196F3;border-radius: 5px;border: 0;color:#fff;margin:5px auto;display:block">小游戏</button>\n        <button class="exchange" style="width: 200px;height:30px;background-color: #2196F3;border-radius: 5px;border: 0;color:#fff;margin:5px auto;display:block">福币兑换</button></div>',this.container.appendChild(t);var o=document.querySelector(".exchange"),n=document.querySelector(".visit"),a=document.querySelector(".linkgame"),i=document.querySelector(".auto"),r=document.querySelector(".everyday");o.addEventListener("click",function(){for(var t=0;t<d.length;t++)d[t].disabled=!0,d[t].style.color="#c1c1c1";l.default.outPutLog(e.outputTextarea,(new Date).toLocaleString()+" 开始自动福币兑换"),e.send()}),n.addEventListener("click",function(){for(var t=0;t<d.length;t++)d[t].disabled=!0,d[t].style.color="#c1c1c1";l.default.outPutLog(e.outputTextarea,(new Date).toLocaleString()+" 开始自动浏览店铺"),e.visit()}),a.addEventListener("click",function(){for(var t=0;t<d.length;t++)d[t].disabled=!0,d[t].style.color="#c1c1c1";l.default.outPutLog(e.outputTextarea,(new Date).toLocaleString()+" 开始自动小游戏"),e.game()}),i.addEventListener("click",function(){for(var t=0;t<d.length;t++)d[t].disabled=!0,d[t].style.color="#c1c1c1";l.default.outPutLog(e.outputTextarea,(new Date).toLocaleString()+" 开始自动完成所有任务"),e.visit(0),e.game(1),e.send(2)});var s=document.createEvent("MouseEvents");s.initEvent("click",!0,!0),r.addEventListener("click",function(){var o=0;u.default.autoEveryDay=!u.default.autoEveryDay,r.innerHTML=u.default.autoEveryDay?"取消每日自动":"开启每日自动",l.default.outPutLog(e.outputTextarea,u.default.autoEveryDay?"已开启每日自动【开启后立即执行一次，往后每天10点后执行，监测频率30~60分钟/次】":"已取消每日自动"),setInterval(function(){fetch(u.default.JDTimeInfoURL).then(function(t){return t.json()}).then(function(t){var e=l.default.formatDate2(t.time);u.default.autoEveryDay&&(0==o||o<+e&&10<=new Date(+t.time).getHours())&&(o=+e,i.dispatchEvent(s))})},0==o?u.default.timeoutSpan:18e5+l.default.random(0,18e5))})}},{key:"send",value:function(t){var o=0<arguments.length&&void 0!==t?t:-1,n=this,a=0,i=12;a=setInterval(function(){if(o<0||u.default.taskProgress==o)if(12-i+1<=12){var t={clientVersion:"1.0.0",client:"wh5",uuid:"15727505818691431184273",area:"",appid:"publicUseApi",functionId:"brandcity_spring_getLottery",body:{actionType:2,taskId:""+(12-i+1)}};fetch(n.url+"?"+l.default.stringify(t),{credentials:"include"}).then(function(t){return t.json()}).then(function(t){l.default.outPutLog(n.outputTextarea,(new Date).toLocaleString()+" 操作成功！任务序号："+(12-i+1)+"/12")}).finally(function(){i--})}else{if(l.default.outPutLog(n.outputTextarea,(new Date).toLocaleString()+" 福币兑换任务已完成"),0<=o&&u.default.taskProgress<u.default.taskCount&&u.default.taskProgress++,o<0||u.default.taskProgress>=u.default.taskCount)for(var e=u.default.taskProgress=0;e<d.length;e++)d[e].disabled=!1,d[e].style.color="#fff";clearInterval(a)}},u.default.timeoutSpan+l.default.random(300,500))}},{key:"visit",value:function(t){var e=0<arguments.length&&void 0!==t?t:-1,o=this,n=0,a=80;n=setInterval(function(){if(e<0||u.default.taskProgress==e)if(80-a+1<=80)fetch(o.url+"?"+l.default.stringify({clientVersion:"1.0.0",client:"wh5",uuid:"15727505818691431184273",area:"",appid:"publicUseApi",functionId:"brandcity_spring_randomVisit",body:{uuid:"15727505818691431184273"}}),{credentials:"include"}).then(function(t){return t.json()}).then(function(t){l.default.outPutLog(o.outputTextarea,(new Date).toLocaleString()+" 操作成功！任务序号："+(80-a+1)+"/80")}).finally(function(){a--});else{if(l.default.outPutLog(o.outputTextarea,(new Date).toLocaleString()+" 浏览店铺任务已完成"),0<=e&&u.default.taskProgress<u.default.taskCount&&u.default.taskProgress++,e<0||u.default.taskProgress>=u.default.taskCount)for(var t=u.default.taskProgress=0;t<d.length;t++)d[t].disabled=!1,d[t].style.color="#fff";clearInterval(n)}},u.default.timeoutSpan+l.default.random(300,500))}},{key:"game",value:function(t){var o=0<arguments.length&&void 0!==t?t:-1,n=this,a=0,i=6;a=setInterval(function(){if(o<0||u.default.taskProgress==o)if(6-i+1<=6){var t={clientVersion:"1.0.0",client:"wh5",uuid:"15727505818691431184273",area:"",appid:"publicUseApi",functionId:"brandcity_spring_getLottery",body:{actionType:4,taskId:6-i+1}};fetch(n.url+"?"+l.default.stringify(t),{credentials:"include"}).then(function(t){return t.json()}).then(function(t){l.default.outPutLog(n.outputTextarea,(new Date).toLocaleString()+" 操作成功！任务序号："+(6-i+1)+"/6")}).finally(function(){i--})}else{if(l.default.outPutLog(n.outputTextarea,(new Date).toLocaleString()+" 小游戏任务已完成"),0<=o&&u.default.taskProgress<u.default.taskCount&&u.default.taskProgress++,o<0||u.default.taskProgress>=u.default.taskCount)for(var e=u.default.taskProgress=0;e<d.length;e++)d[e].disabled=!1,d[e].style.color="#fff";clearInterval(a)}},u.default.timeoutSpan+l.default.random(300,500))}}]),a);function a(t,e,o){s(this,a),this.url="https://api.m.jd.com/client.action",this.params=t,this.container=e,this.outputTextarea=o,u.default.taskCount=3}o.default=n},{"../config/config":3,"../utils/utils":13}],3:[function(t,e,o){Object.defineProperty(o,"__esModule",{value:!0});function n(){s(this,n)}(o.default=n).title="京东领券助手改版",n.version="v0.3.5",n.author="krapnik",n.edit="smiley",n.timingFlag=!1,n.UAFlag=!1,n.locationHref=window.location.href,n.localeTime="",n.intervalId=0,n.intervalSpan=500,n.timeoutSpan=1500,n.retryCount=1,n.residueCount=1,n.taskCount=0,n.taskProgress=0,n.autoEveryDay=!1,n.JDAppUA="jdapp;android;8.4.2;8.0.0;;network/wifi;model/Mi Note 2;osVer/26;appBuild/71043;psn/|7;psq/1;uid/;adk/;ads/;pap/JA2015_311210|8.4.2|ANDROID 8.0.0;osv/8.0.0;pv/2.23;jdv/;ref/com.jingdong.app.mall.WebActivity;partner/huawei;apprpd/Home_Main;Mozilla/5.0 (Linux; Android 8.0.0; Mi Note 2 Build/OPR1.170623.032; wv) AppleWebKit/537.36 (KHTML, like Gecko) Version/4.0 Chrome/71.0.3578.99 Mobile Safari/537.36",n.JDUserInfoURL="https://wq.jd.com/user/info/QueryJDUserInfo?sceneid=11110&sceneval=2&g_login_type=1",n.JDTimeInfoURL="https://api.m.jd.com/client.action?functionId=babelActivityGetShareInfo&client=wh5"},{}],4:[function(t,e,o){Object.defineProperty(o,"__esModule",{value:!0});var n=t("../utils/utils"),a=(r(i,[{key:"get",value:function(){var t=this.detailurl.replace("{pid}",this.couponParams.pid);n.default.createJsonp(t,!0)}},{key:"jsonp",value:function(t){console.log(t);var e=JSON.parse(t.data),o=e.data;o?(this.couponList=[],e.success?(this.couponList.push({pid:o.productId,title:o.name,detail:o.description,imgUrl:o.imgUrl}),this.list()):alert("请检查该页面优惠券的有效性！")):n.default.outPutLog(this.outputTextarea,"领券结果:"+t.data)}},{key:"list",value:function(){var t=this,e=document.createElement("div");e.innerHTML="<h3 style='border-bottom: 1px solid #2196F3;display: inline-block;margin-top: 5px;padding: 0 37.5vw 5px;'>优惠券</h3>",e.setAttribute("style","display:flex;flex-direction:column;padding: 5px;margin-top: 5px;border: 1px solid #000;");for(var o=0;o<this.couponList.length;o++){var n=this.couponList[o],a=document.createElement("div");a.setAttribute("style","display:flex;flex-direction:row;padding:10px 0;border-bottom:1px solid #999"),a.innerHTML='<img style="width:120px;height:100%;margin-right:10vw;display: block;" src="'+n.imgUrl+'" />\n                <div>\n                    <h3 style="margin-bottom:10px">'+n.title+'</h3><p style="margin-bottom:10px">'+n.detail+'</p>\n                    <button class="receive" style="width: 80px;height:30px;background-color: #2196F3;border-radius: 5px;border: 0;">\n                        <a style="color: #fff;text-decoration: none;">直接领取</a>\n                    </button>\n                </div>',e.appendChild(a)}this.container.appendChild(e),document.querySelector(".receive").addEventListener("click",function(){t.send()})}},{key:"send",value:function(){this.outputTextarea.style.display="block";for(var t=0;t<this.couponList.length;t++){var e=this.couponList[t],o=this.url.replace("{pid}",e.pid);n.default.createJsonp(o,!0)}}}]),i);function i(t,e,o){s(this,i),this.url="https://vip.jr.jd.com/goldcoin/purchase?id={pid}&callback=",this.detailurl="https://vip.jr.jd.com/goldcoin/goods/{pid}?callback=",this.couponList=[],this.couponParams=t,this.container=e,this.outputTextarea=o,window.addEventListener("message",this.jsonp.bind(this),!1)}o.default=a},{"../utils/utils":13}],5:[function(t,e,o){Object.defineProperty(o,"__esModule",{value:!0});var n=t("../utils/utils"),a=(r(i,[{key:"get",value:function(){var a=this;fetch(this.detailurl,{credentials:"include"}).then(function(t){return t.json()}).then(function(t){if(a.couponList=[],0==t.resultCode){for(var e=t.resultData.data.data,o=0;o<e.length;o++){var n=e[o];n&&a.couponList.push({pid:n.productId,exchangeStatus:3==n.exchangeStatus?"已抢光":2==n.exchangeStatus?"已领取":"可领取",detail:n.description,startDate:new Date(n.startDate).toLocaleString(),discountAmount:n.discountAmount,imgUrl:n.imgUrl,flag:!1})}a.list()}else alert("请检查该页面优惠券的有效性！")})}},{key:"jsonp",value:function(t){JSON.parse(t.data).data,n.default.outPutLog(this.outputTextarea,"领券结果:"+t.data)}},{key:"list",value:function(){var a=this,e=document.createElement("div");e.innerHTML="<h3 style='border-bottom: 1px solid #2196F3;display: inline-block;margin-top: 5px;padding: 0 37.5vw 5px;'>优惠券</h3><p style='margin: 5px 0;color:red'>请先点击列表项选择领取的券</p>",e.setAttribute("style","display:flex;flex-direction:column;padding: 5px;margin-top: 5px;border: 1px solid #000;");for(var t=function(t){var o=a.couponList[t],n=document.createElement("div");n.setAttribute("style","display:flex;flex-direction:row;text-align:left;border:1px solid gray;border-radius: 10px;margin-top:5px;padding: 5px"),n.setAttribute("data-item","coupon"),n.innerHTML='<img style="width:120px;height:100%;margin-right:10vw;display: block;" src="'+o.imgUrl+'" />\n                <div>\n                    <h3 style="margin-bottom:10px user-select: none;pointer-events:none;">'+o.detail+'</h3><p style="user-select: none;pointer-events:none;margin-bottom:10px">消耗金币：'+o.discountAmount+"<br>开始时间："+o.startDate+"<br>状态："+o.exchangeStatus+'</p>\n                    <button class="receive" data-id='+t+' style="width: 80px;height:30px;background-color: #2196F3;border-radius: 5px;border: 0;">\n                        <a style="color: #fff;text-decoration: none;user-select: none;pointer-events:none;">直接领取</a>\n                    </button>\n                </div>',e.appendChild(n),n.addEventListener("click",function(t){var e=t.target;e.getAttribute("data-item")||e.parentNode==n&&"BUTTON"!=e.tagName?(o.flag?n.style.border="1px solid gray":n.style.border="1px solid red",o.flag=!o.flag):e.getAttribute("data-id")&&a.singleSend(+e.getAttribute("data-id"))})},o=0;o<this.couponList.length;o++)t(o);this.container.appendChild(e)}},{key:"send",value:function(){this.outputTextarea.style.display="block";for(var t=0;t<this.couponList.length;t++){var e=this.couponList[t],o=this.url.replace("{pid}",e.pid);e.flag&&n.default.createJsonp(o,!0)}}},{key:"singleSend",value:function(t){this.outputTextarea.style.display="block";var e=this.couponList[t],o=this.url.replace("{pid}",e.pid);n.default.createJsonp(o,!0)}}]),i);function i(t,e,o){s(this,i),this.url="https://vip.jr.jd.com/goldcoin/purchase?id={pid}&callback=",this.detailurl="https://ms.jr.jd.com/gw/generic/hy/h5/m/gateFloorById?reqData={%22floorId%22:44,%22pageChannel%22:%22spike%22}",this.couponList=[],this.couponParams=t,this.container=e,this.outputTextarea=o,window.addEventListener("message",this.jsonp.bind(this),!1)}o.default=a},{"../utils/utils":13}],6:[function(t,e,o){Object.defineProperty(o,"__esModule",{value:!0});var n=t("../utils/utils"),a=(r(i,[{key:"get",value:function(){this.couponList=[];var t=window._couponData.batchinfo,e=[];for(var o in t)e&&e instanceof Array&&(e=t[o]);for(var n=0;n<e.length;n++){var a=e[n],i=a.limitStr,r=a.discount,s=a.quota,l=a.constraintBeginTime,u=a.constraintEndTime;this.couponList.push({limitStr:i,discount:r,constraintEndTime:u,constraintBeginTime:l,quota:s,flag:!1})}this.list()}},{key:"list",value:function(){var a=this,e=document.createElement("div");e.innerHTML="<h3 style='border-bottom: 1px solid #2196F3;display: inline-block;margin-top: 5px;padding: 0 37.5vw 5px;'>优惠券</h3><p style='margin: 5px 0;color:red'>请先点击列表项选择领取的券</p>",e.setAttribute("style","display:flex;flex-direction:column;padding: 5px;margin-top: 5px;border: 1px solid #000;");for(var t=function(t){var o=a.couponList[t],n=document.createElement("div");n.setAttribute("style","padding:10px 0;border:1px solid gray;border-radius: 10px;margin-top:5px;padding: 5px"),n.setAttribute("data-item","coupon"),n.innerHTML='<h4 style="user-select: none;pointer-events:none;">'+o.quota+"-"+o.discount+'</h4>\n                                <p style="user-select: none;pointer-events:none;margin-bottom:10px">范围：'+o.limitStr+"<br/>时间："+o.constraintBeginTime+"-"+o.constraintEndTime+'</p>\n                                <button data="coupon" style="width: 80px;height:30px;background-color: #2196F3;border-radius: 5px;border: 0;color:#fff;">直接领取</button>',e.appendChild(n),n.addEventListener("click",function(t){var e=t.target;e.getAttribute("data-item")||e.parentNode==n&&"BUTTON"!=e.tagName?(o.flag?n.style.border="1px solid gray":n.style.border="1px solid red",o.flag=!o.flag):e.getAttribute("data")&&a.send()})},o=0;o<this.couponList.length;o++)t(o);this.container.appendChild(e)}},{key:"send",value:function(){this.outputTextarea.style.display="block";var t=this.url.replace("{key}",this.couponParams.key).replace("{roleId}",this.couponParams.roleId);n.default.createJsonp(t,!1)}},{key:"jsonp",value:function(t){n.default.outPutLog(this.outputTextarea,"领券结果:"+JSON.stringify(t))}}]),i);function i(t,e,o){s(this,i),this.url="https://s.m.jd.com/activemcenter/mfreecoupon/getcoupon?key={key}&roleId={roleId}",this.couponList=[],this.couponParams=t,this.container=e,this.outputTextarea=o,window.getcoupon=this.jsonp.bind(this)}o.default=a},{"../utils/utils":13}],7:[function(t,e,o){Object.defineProperty(o,"__esModule",{value:!0});var a=t("../utils/utils"),n=(r(i,[{key:"get",value:function(){this.couponList=[];for(var t=window.__react_data__.activityData.floorList,e=0;e<t.length;e++){var o=t[e];if("free_coupon"==o.template||"finance_coupon"==o.template)for(var n=0;n<o.couponList.length;n++){var a=o.couponList[n],i=a.scene,r=a.args||a.cpId,s=a.jsonSrv?JSON.parse(a.jsonSrv).cid:"",l=a.discount,u=a.picUrl||a.picture,d=a.status,c=a.limit+","+a.scope;this.couponList.push({discount:l,details:c,scene:i,args:r,status:d,couponbatch:s,picUrl:u,flag:!1})}}this.list()}},{key:"list",value:function(){var e=this,a=document.createElement("div");a.innerHTML="<h3 style='border-bottom: 1px solid #2196F3;display: inline-block;margin-top: 5px;padding: 0 37.5vw 5px;'>优惠券</h3><p style='margin: 5px 0;color:red'>请先点击列表项选择领取的券</p>",a.setAttribute("style","display:flex;flex-direction:column;padding: 5px;margin-top: 5px;border: 1px solid #000;");for(var t=function(t){var o=e.couponList[t],n=document.createElement("div");n.setAttribute("style","display:flex;flex-direction:row;padding:10px 0;border:1px solid gray;border-radius: 10px;margin-top:5px;padding: 5px"),n.setAttribute("data-item","coupon"),"1"==o.scene?n.innerHTML='<img style="user-select: none;pointer-events:none;width:120px;height:100%;padding-right:10vw;display: block;" src="'+o.picUrl+'" />\n                <div">\n                    <p style="user-select: none;pointer-events:none;margin-bottom:10px">状态：'+("0"==o.status?"可领取":"1"==o.status?"已领取":"已领光")+"<br/>说明："+o.details+'</p>\n                    <button style="width: 80px;height:30px;background-color: #2196F3;border-radius: 5px;border: 0;">\n                        <a href=\'https://so.m.jd.com/list/couponSearch.action?couponbatch='+o.couponbatch+'\' target="_blank" style="color: #fff;text-decoration: none;">可用商品</a>\n                    </button>\n                    <button style="width: 80px;height:30px;background-color: #2196F3;border-radius: 5px;border: 0;">\n                        <a href=\'https://api.m.jd.com/client.action?functionId=newBabelAwardCollection&body={"activityId":"'+e.couponParams.activityId+'","scene":'+o.scene+',"args":"'+o.args+'"}&client=wh5\' target="_blank" style="color: #fff;text-decoration: none;">直接领取</a>\n                    </button>\n                </div>':"3"==o.scene&&(n.innerHTML='<img style="user-select: none;pointer-events:none;width:120px;height:100%;padding-right:10vw;display: block;" src="'+o.picUrl+'" />\n                <div">\n                <p style="user-select: none;pointer-events:none;margin-bottom:10px">状态：'+("0"==o.status?"可领取":"1"==o.status?"已领取":"已领光")+'</p>\n                <button style="width: 80px;height:30px;background-color: #2196F3;border-radius: 5px;border: 0;">\n                    <a href=\'https://api.m.jd.com/client.action?functionId=newBabelAwardCollection&body={"activityId":"'+e.couponParams.activityId+'","scene":'+o.scene+',"actKey":"'+o.args+'"}&client=wh5\' target="_blank" style="color: #fff;text-decoration: none;">直接领取</a>\n                </button>\n                </div>'),a.appendChild(n),n.addEventListener("click",function(t){var e=t.target;(e.getAttribute("data-item")||e.parentNode==n&&"BUTTON"!=e.tagName)&&(o.flag?n.style.border="1px solid gray":n.style.border="1px solid red",o.flag=!o.flag)})},o=0;o<this.couponList.length;o++)t(o);this.container.appendChild(a)}},{key:"send",value:function(){var n=this;this.outputTextarea.style.display="block";for(var t=function(e){var t=n.couponList[e],o="";"1"==t.scene?o='https://api.m.jd.com/client.action?functionId=newBabelAwardCollection&body={"activityId":"'+n.couponParams.activityId+'","scene":'+t.scene+',"args":"'+t.args+'"}&client=wh5':"3"==t.scene&&(o='https://api.m.jd.com/client.action?functionId=newBabelAwardCollection&body={"activityId":"'+n.couponParams.activityId+'","scene":'+t.scene+',"actKey":"'+t.args+'"}&client=wh5'),t.flag&&fetch(o,{credentials:"include"}).then(function(t){return t.json()}).then(function(t){t.errmsg?a.default.outPutLog(n.outputTextarea,"第"+(e+1)+"张 领券结果:"+t.errmsg):a.default.outPutLog(n.outputTextarea,"第"+(e+1)+"张 领券结果:"+t.subCodeMsg)})},e=0;e<this.couponList.length;e++)t(e)}}]),i);function i(t,e,o){s(this,i),this.url="https://api.m.jd.com/client.action?functionId=newBabelAwardCollection",this.couponList=[],this.couponParams=t,this.container=e,this.outputTextarea=o}o.default=n},{"../utils/utils":13}],8:[function(t,e,o){Object.defineProperty(o,"__esModule",{value:!0});var n=t("../utils/utils"),a=(r(i,[{key:"get",value:function(){var t=this.detailurl.replace("{pid}",this.couponParams.pid);n.default.createJsonp(t,!0)}},{key:"jsonp",value:function(t){console.log(t);var e=JSON.parse(t.data),o=e.data;o?(this.couponList=[],e.success?(this.couponList.push({pid:o.productId,title:o.name,detail:o.description,imgUrl:o.imgUrl}),this.list()):alert("请检查该页面优惠券的有效性！")):n.default.outPutLog(this.outputTextarea,"领券结果:"+t.data)}},{key:"list",value:function(){var t=this,e=document.createElement("div");e.innerHTML="<h3 style='border-bottom: 1px solid #2196F3;display: inline-block;margin-top: 5px;padding: 0 37.5vw 5px;'>优惠券</h3>",e.setAttribute("style","display:flex;flex-direction:column;padding: 5px;margin-top: 5px;border: 1px solid #000;");for(var o=0;o<this.couponList.length;o++){var n=this.couponList[o],a=document.createElement("div");a.setAttribute("style","display:flex;flex-direction:row;padding:10px 0;border-bottom:1px solid #999"),a.innerHTML='<img style="width:120px;height:100%;margin-right:10vw;display: block;" src="'+n.imgUrl+'" />\n                <div>\n                    <h3 style="margin-bottom:10px">'+n.title+'</h3><p style="margin-bottom:10px">'+n.detail+'</p>\n                    <button class="receive" style="width: 80px;height:30px;background-color: #2196F3;border-radius: 5px;border: 0;">\n                        <a style="color: #fff;text-decoration: none;">直接领取</a>\n                    </button>\n                </div>',e.appendChild(a)}this.container.appendChild(e),document.querySelector(".receive").addEventListener("click",function(){t.send()})}},{key:"send",value:function(){this.outputTextarea.style.display="block";for(var t=0;t<this.couponList.length;t++){var e=this.couponList[t],o=this.url.replace("{pid}",e.pid);n.default.createJsonp(o,!0)}}}]),i);function i(t,e,o){s(this,i),this.url="https://vip.jr.jd.com/goldcoin/purchase?id={pid}&callback=",this.detailurl="https://vip.jr.jd.com/goldcoin/product/{pid}?callback=",this.couponList=[],this.couponParams=t,this.container=e,this.outputTextarea=o,window.addEventListener("message",this.jsonp.bind(this),!1)}o.default=a},{"../utils/utils":13}],9:[function(t,e,o){Object.defineProperty(o,"__esModule",{value:!0});var a=t("../utils/utils"),n=(r(i,[{key:"get",value:function(){var c=this;this.couponList=[],fetch(this.detailurl,{credentials:"include"}).then(function(t){return t.json()}).then(function(t){for(var e=t.rs.wholeCategoryCoupon,o=0;o<e.length;o++){var n=e[o],a=n.giftAmount,i=n.discount,r=n.quota,s=n.couponState,l=n.activtyId,u=n.limitStr,d=n.hour;c.couponList.push({giftAmount:a,activityId:l,discount:i,quota:r,hour:d,limitStr:u,couponState:s,flag:!1})}c.list()})}},{key:"list",value:function(){var a=this,e=document.createElement("div");e.innerHTML="<h3 style='border-bottom: 1px solid #2196F3;display: inline-block;margin-top: 5px;padding: 0 37.5vw 5px;'>优惠券</h3><p style='margin: 5px 0;color:red'>点击列表项选择要领取的券</p>",e.setAttribute("style","display:flex;flex-direction:column;padding: 5px;margin-top: 5px;border: 1px solid #000;");for(var t=function(t){var o=a.couponList[t],n=document.createElement("div");n.setAttribute("style","text-align:left;border:1px solid gray;border-radius: 10px;margin-top:5px;padding: 5px"),n.setAttribute("data-item","coupon"),n.innerHTML='<h3 style="user-select: none;pointer-events:none;">折扣：'+o.quota+"-"+o.discount+'</h3>\n                                    <p style="margin-bottom:10px;user-select: none;pointer-events:none;">状态：'+(1==o.couponState?"可领取":6==o.couponState?"已领光":"不可领取")+"<br/>说明："+o.limitStr+"<br/>兑换礼金："+o.giftAmount+"<br/>领取时间："+(o.hour||"现在可领")+'</p>\n                                    <button class="receive" data-id='+t+' style="width: 80px;height:30px;background-color: #2196F3;border-radius: 5px;border: 0;color:#fff;">直接领取</button>',e.appendChild(n),n.addEventListener("click",function(t){var e=t.target;e.getAttribute("data-item")||e.parentNode==n&&"BUTTON"!=e.tagName?(o.flag?n.style.border="1px solid gray":n.style.border="1px solid red",o.flag=!o.flag):e.getAttribute("data-id")&&a.singleSend(+e.getAttribute("data-id"))},!1)},o=0;o<this.couponList.length;o++)t(o);this.container.appendChild(e)}},{key:"send",value:function(){var n=this;this.outputTextarea.style.display="block";for(var t=function(t){var e=n.couponList[t],o=n.url.replace("{activityId}",e.activityId);e.flag&&fetch(o,{credentials:"include"}).then(function(t){return t.json()}).then(function(t){a.default.outPutLog(n.outputTextarea,e.quota+"-"+e.discount+" 领券结果:"+t.msg)})},e=0;e<this.couponList.length;e++)t(e)}},{key:"singleSend",value:function(t){var e=this;this.outputTextarea.style.display="block";var o=this.couponList[t],n=this.url.replace("{activityId}",o.activityId);fetch(n,{credentials:"include"}).then(function(t){return t.json()}).then(function(t){a.default.outPutLog(e.outputTextarea,o.quota+"-"+o.discount+" 领券结果:"+t.msg)})}}]),i);function i(t,e,o){s(this,i),this.url="https://rsp.jd.com/coupon/receiveDayCoupon/v1?locationCode=10002&lt=m&an=plus.mobile&getType=1&discount=10&couponKey=&platform=3&eventId=MPlusCoupon_Get&eid=&fp=&getType=1&activityId={activityId}",this.detailurl="https://rsp.jd.com/coupon/dayCouponList/v1/?lt=m&an=plus.mobile&couponType=0_1",this.couponList=[],this.couponParams=t,this.container=e,this.outputTextarea=o}o.default=n},{"../utils/utils":13}],10:[function(t,e,o){Object.defineProperty(o,"__esModule",{value:!0});var a=t("../utils/utils"),n=(r(i,[{key:"get",value:function(){var p=this;this.couponList=[],fetch(this.detailurl,{credentials:"include"}).then(function(t){return t.json()}).then(function(t){for(var e=t.data.hotFloor.resultList,o=0;o<e.length;o++){var n=e[o],a=n.name,i=n.disCount,r=n.quota,s=n.skuImage,l=n.skuId,u=n.time,d=n.putKey,c=n.batchId;p.couponList.push({name:a,putKey:d,skuImage:s,discount:i,quota:r,skuId:l,batchId:c,time:u,flag:!1})}p.list()})}},{key:"list",value:function(){var a=this,e=document.createElement("div");e.innerHTML="<h3 style='border-bottom: 1px solid #2196F3;display: inline-block;margin-top: 5px;padding: 0 37.5vw 5px;'>优惠券</h3><p style='margin: 5px 0;color:red'>请先点击列表项选择领取的券</p>",e.setAttribute("style","display:flex;flex-direction:column;padding: 5px;margin-top: 5px;border: 1px solid #000;");for(var t=function(t){var o=a.couponList[t],n=document.createElement("div");n.setAttribute("style","display:flex;flex-direction:row;padding:10px 0;border:1px solid gray;border-radius: 10px;margin-top:5px;padding: 5px"),n.setAttribute("data-item","coupon"),n.innerHTML='<img style="user-select: none;pointer-events:none;width:120px;height:100%;padding-right:10vw;display: block;" src="'+o.skuImage+'" />\n                                <div style="text-align: left">\n                                <h4 style="user-select: none;pointer-events:none;">'+o.name+'</h4>\n                                <p style="user-select: none;pointer-events:none;margin-bottom:10px">折扣：'+o.quota+"-"+o.discount+"<br/>下场时间："+o.time+'</p>\n                                <button  class="receive" data-id='+t+' style="width: 80px;height:30px;background-color: #2196F3;border-radius: 5px;border: 0;color:#fff;">直接领取</button>\n                                </div>',e.appendChild(n),n.addEventListener("click",function(t){var e=t.target;e.getAttribute("data-item")||e.parentNode==n&&"BUTTON"!=e.tagName?(o.flag?n.style.border="1px solid gray":n.style.border="1px solid red",o.flag=!o.flag):e.getAttribute("data-id")&&a.singleSend(+e.getAttribute("data-id"))})},o=0;o<this.couponList.length;o++)t(o);this.container.appendChild(e)}},{key:"send",value:function(){var n=this;this.outputTextarea.style.display="block";for(var t=function(t){var e=n.couponList[t],o='https://api.m.jd.com/client.action?functionId=receiveSeckillCoupon&body=%7B"roleId"%3A"'+encodeURIComponent(e.putKey)+'"%2C"source"%3A"home_subsidy"%2C"floorType"%3A0%2C"skuId"%3A"'+e.skuId+'"%2C"quota"%3A"'+e.quota+'"%2C"disCount"%3A"'+e.discount+'"%2C"batchId"%3A"'+e.batchId+'"%7D&client=m&appid=XPMSGC2019';fetch(o,{method:"POST",mode:"cors",credentials:"include",headers:{"Content-Type":"application/x-www-form-urlencoded"}}).then(function(t){return t.json()}).then(function(t){a.default.outPutLog(n.outputTextarea,e.quota+"-"+e.discount+" 领券结果:"+t.resultMsg)})},e=0;e<this.couponList.length;e++)t(e)}},{key:"singleSend",value:function(t){var e=this;this.outputTextarea.style.display="block";var o=this.couponList[t],n='https://api.m.jd.com/client.action?functionId=receiveSeckillCoupon&body=%7B"roleId"%3A"'+encodeURIComponent(o.putKey)+'"%2C"source"%3A"home_subsidy"%2C"floorType"%3A0%2C"skuId"%3A"'+o.skuId+'"%2C"quota"%3A"'+o.quota+'"%2C"disCount"%3A"'+o.discount+'"%2C"batchId"%3A"'+o.batchId+'"%7D&client=m&appid=XPMSGC2019';fetch(n,{method:"POST",mode:"cors",credentials:"include",headers:{"Content-Type":"application/x-www-form-urlencoded"}}).then(function(t){return t.json()}).then(function(t){a.default.outPutLog(e.outputTextarea,o.quota+"-"+o.discount+" 领券结果:"+t.resultMsg)})}}]),i);function i(t,e,o){s(this,i),this.url="https://api.m.jd.com/client.action?functionId=newBabelAwardCollection",this.detailurl="https://api.m.jd.com/client.action?functionId=getBillionSubsidyInfo&body=%7B%22source%22:%22home_subsidy%22%7D&appid=XPMSGC2019",this.couponList=[],this.couponParams=t,this.container=e,this.outputTextarea=o}o.default=n},{"../utils/utils":13}],11:[function(t,e,o){Object.defineProperty(o,"__esModule",{value:!0});var a=t("../utils/utils"),n=(r(i,[{key:"get",value:function(){var o=this;this.couponList=[];var t=this.detailurl.replace("{couponBusinessId}",this.couponParams.couponBusinessId);fetch(t).then(function(t){return t.json()}).then(function(t){var e=JSON.parse(t.data).baiCouponInfo;t.isSuccess?(o.couponList.push({couponBusinessId:JSON.parse(t.data).baiCouponDetailsNext.couponBusinessId,platform:e.platform,title:e.title,detail:e.detail}),o.list()):alert("请检查该页面优惠券的有效性！")})}},{key:"list",value:function(){var t=document.createElement("div");t.innerHTML="<h3 style='border-bottom: 1px solid #2196F3;display: inline-block;margin-top: 5px;padding: 0 37.5vw 5px;'>优惠券</h3>",t.setAttribute("style","display:flex;flex-direction:column;padding: 5px;margin-top: 5px;border: 1px solid #000;");for(var e=0;e<this.couponList.length;e++){var o=this.couponList[e],n=document.createElement("div");n.setAttribute("style","padding:10px 0;border-bottom:1px solid #999"),n.innerHTML="<h3>"+o.title+"</h3><p>"+o.detail+"</p><p>可用范围："+o.platform+'</p>\n                                <button style="width: 80px;height:30px;background-color: #2196F3;border-radius: 5px;border: 0;">\n                                    <a href=\'http://opencredit.jd.com/act/get/coupon?couponBusinessId='+o.couponBusinessId+'&actId=004\' target="_blank" style="color: #fff;text-decoration: none;">直接领取</a>\n                                </button>',t.appendChild(n)}this.container.appendChild(t)}},{key:"send",value:function(){var o=this;this.outputTextarea.style.display="block";for(var t=0;t<this.couponList.length;t++){var e=this.couponList[t],n=this.url.replace("{couponBusinessId}",e.couponBusinessId);fetch(n).then(function(t){return t.json()}).then(function(t){var e="";switch(parseInt(t.responseCode)){case 2:case 999:case 13002:case 13007:case 13009:e="啊喔，出问题了，请稍候再试";break;case 2e3:e="用户未登录";break;case 13001:e="领取成功，感谢您的参与";break;case 13004:case 13015:e="您不满足领取条件";break;case 13005:e="您未开通小白信用，不满足领取条件";break;case 13008:e="您曾经开通过小白信用，不满足领取条件";break;case 13010:e="操作太快了喔";break;case 13011:e="活动未开始";break;case 13012:e="活动已结束";break;case 13013:e="本时段优惠券已抢光";break;default:e="优惠券已抢光"}a.default.outPutLog(o.outputTextarea,"领券结果:"+e+"！")})}}}]),i);function i(t,e,o){s(this,i),this.url="https://opencredit.jd.com/act/get/coupon?couponBusinessId={couponBusinessId}&actId=004",this.detailurl="http://opencredit.jd.com/act/get/couponInfo?couponBusinessId={couponBusinessId}",this.couponList=[],this.couponParams=t,this.container=e,this.outputTextarea=o}o.default=n},{"../utils/utils":13}],12:[function(t,e,o){Object.defineProperty(o,"__esModule",{value:!0});var f,n,h,a,g=t("./coupons/newBabelAwardCollection"),b=t("./utils/utils"),m=t("./coupons/whtieCoupon"),y=t("./coupons/purchase"),v=t("./coupons/receiveDayCoupon"),x=t("./coupons/secKillCoupon"),k=t("./coupons/mfreecoupon"),w=t("./coupons/coinPurchase"),L=t("./coupons/gcConvert"),T=t("./activitys/MonsterNian"),I=t("./config/config"),C=t("./activitys/brandCitySpring");(n=f=f||{})[n.none=0]="none",n.receiveCoupons="receiveCoupons",n.newBabelAwardCollection="newBabelAwardCollection",n.whiteCoupon="whiteCoupon",n.purchase="purchase",n.receiveDayCoupon="receiveDayCoupon",n.secKillCoupon="secKillCoupon",n.mfreecoupon="mfreecoupon",n.coinPurchase="coinPurchase",n.GcConvert="GcConvert",(a=h=h||{})[a.none=0]="none",a.monsterNian="monsterNian",a.brandCitySpring="brandCitySpring";var S=void 0,P=void 0,i=0,r=void 0,A=document.createElement("div"),j=document.createElement("div"),s=document.createElement("div"),l=document.createElement("input"),u=document.createElement("button"),E=document.createElement("textarea"),d=document.createElement("div"),c=document.createElement("div"),p=document.createElement("input"),D=document.createElement("div"),M=document.createElement("button"),_=document.createElement("input"),F=document.createElement("button"),V=document.createElement("div");function H(){var t=document.createElement("div");S?(t.setAttribute("style","border: 1px solid #000;"),t.innerHTML="<h3 style='border-bottom: 1px solid #2196F3;display: inline-block;margin: 5px;padding: 0 37.5vw 5px;'>操作区</h3>",_.type="text",_.placeholder="请输入获取时间的刷新频率【毫秒】",_.setAttribute("style","width:80vw;height: 25px;border: solid 1px #000;border-radius: 5px;margin: 10px auto;display: block;"),F.innerHTML="重置频率",F.setAttribute("style","width: 80px;height:30px;background-color: #2196F3;border-radius: 5px;border: 0;color:#fff;"),F.addEventListener("click",function(){var t=Math.trunc(+_.value);if(!t)return alert("请检查输入的刷新频率是否有误！(只能为大于0的数字)"),!1;I.default.intervalSpan=t,window.clearInterval(I.default.intervalId),I.default.intervalId=window.setInterval(U,I.default.intervalSpan)}),l.type="text",l.placeholder="定时领券时间【格式:13:59:59:950】",l.setAttribute("style","width:80vw;height: 25px;border: solid 1px #000;border-radius: 5px;margin: 10px;"),p.type="text",p.placeholder="重试次数【重试频率同刷新频率】",p.setAttribute("style","width:80vw;height: 25px;border: solid 1px #000;border-radius: 5px;margin: 10px;"),u.innerHTML="定时指定领取",u.addEventListener("click",function(){var t=b.default.formateTime(l.value),e=p.value;switch(!0){case!t||t<0:return alert("请检查定时领券时间的格式是否有误！"),!1;case!e||!/^[1-9]\d*$/.test(e):return alert("请检查重试次数是否为正整数！"),!1;default:I.default.retryCount=I.default.residueCount=+e,I.default.timingFlag=!I.default.timingFlag,i=t,E.style.display="block",_.disabled=I.default.timingFlag,l.disabled=I.default.timingFlag,p.disabled=I.default.timingFlag,F.disabled=I.default.timingFlag,I.default.timingFlag?(F.style.color="#c1c1c1",u.innerHTML="取消指定领取",b.default.outPutLog(E,"已开启定时领取")):(F.style.color="#fff",u.innerHTML="定时指定领取",b.default.outPutLog(E,"已关闭定时领取"))}}),M.addEventListener("click",function(){S&&S.send(E)}),u.setAttribute("style","width: 120px;height:30px;background-color: #2196F3;border-radius: 5px;border: 0;color:#fff;margin:5px;"),M.innerHTML="一键指定领取",M.setAttribute("style","width: 120px;height:30px;background-color: #2196F3;border-radius: 5px;border: 0;color:#fff;margin:5px;"),E.setAttribute("style","width: 90vw;height: 40vw;border: 1px solid #868686;border-radius: 10px;overflow-y: scroll;margin:5px auto;display:none"),E.setAttribute("disabled","disabled"),t.append(V),V.append(s),V.append(_),V.append(F),t.append(c),c.append(l),c.append(p),c.append(D),D.append(M),D.append(u)):(E.setAttribute("style","width: 90vw;height: 40vw;border: 1px solid #868686;border-radius: 10px;overflow-y: scroll;margin:5px auto;"),E.setAttribute("disabled","disabled")),d.innerHTML="当前帐号：未登录",t.append(d),A.append(t),t.append(E)}function B(){var t=document.createElement("div");t.setAttribute("style","border: 1px solid #000;margin:10px"),t.innerHTML='<h3 style=\'border-bottom: 1px solid #2196F3;display: inline-block;margin: 5px;\'>活动推荐</h3>\n    <p style="color:red;font-weight:bold;"><a style="color:red" href="https://bunearth.m.jd.com/babelDiy/Zeus/4PWgqmrFHunn8C38mJA712fufguU/index.html#/wxhome" target="_blank">全民炸年兽</a></p>\n    <p style="color:red;font-weight:bold;"><a style="color:red" href="https://bunearth.m.jd.com/babelDiy/Zeus/w6y8PYbzhgHJc8Lu1weihPReR2T/index.html#/home" target="_blank">十二生肖来送福</a></p>',A.append(t)}function U(){var e=I.default.residueCount;fetch(I.default.JDTimeInfoURL).then(function(t){return t.json()}).then(function(t){r=b.default.formatDate(t.time),I.default.localeTime=new Date(+t.time).toLocaleString()+":"+r.substr(-3,3),s.innerHTML="京东时间："+I.default.localeTime+"<br/>当前获取时间的间隔频率："+I.default.intervalSpan+"毫秒",I.default.timingFlag&&(0<=e?i<=+r&&(b.default.outPutLog(E,"第"+-(e-I.default.retryCount)+"次领取时间："+I.default.localeTime),S&&(S.send(E),I.default.residueCount--)):(I.default.timingFlag=!I.default.timingFlag,_.disabled=I.default.timingFlag,l.disabled=I.default.timingFlag,p.disabled=I.default.timingFlag,F.disabled=I.default.timingFlag,u.innerHTML="定时指定领取",F.style.color="#fff",b.default.outPutLog(E,"已关闭定时领取")))})}Object.assign(window,{getLoginMsg:function(t){t.base.nickname&&(d.innerHTML="当前帐号："+t.base.nickname)},krapnik:function(){},Utils:b.default,Config:I.default});var N;!function(t){var e,o,n,a,i,r;switch(document.querySelector("html").style.fontSize="18px",document.body.innerHTML="",document.body.style.backgroundColor="#ffffff",document.body.style.textAlign="center",document.body.style.maxWidth="100vw",A.setAttribute("style","border: 1px solid #000;padding: 5px;margin: 5px;"),j.innerHTML='<h1 style="font-weight:700">'+I.default.title+" "+I.default.version+"</h1>\n                        <h3>author:"+I.default.author+"</h3>\n                        <h3>edit:"+I.default.edit+'</h3>\n                        <div style="display: flex;flex-direction: row;justify-content: center;">\n                        <iframe src="https://ghbtns.com/github-btn.html?user=smalllk&repo=JDCouponAssistant&type=star&count=true" frameborder="0" scrolling="0" width="80px" height="21px"></iframe>\n                        <a href="tencent://message/?uin=1244797556Menu=yes" target="_blank" title="发起QQ聊天"><img src="http://bizapp.qq.com/webimg/01_online.gif" alt="QQ" style="margin:0px;"></a>\n                        </div>',A.append(j),document.body.append(A),(e=document.createElement("div")).setAttribute("style","border: 1px solid #000;margin:10px"),e.innerHTML='<h3 style=\'border-bottom: 1px solid #2196F3;display: inline-block;margin: 5px;\'>推广区</h3>\n    <p style="color:red;font-weight:bold;"><a  style="color:red" href="http://krapnik.cn/project/jd/dayTask.html" target="_blank">每日京东红包汇总</a></p>',A.append(e),t){case f.none:break;case f.newBabelAwardCollection:var s=I.default.locationHref.match(/active\/(\S*)\/index/)[1];S=new g.default({activityId:s},A,E);break;case f.whiteCoupon:var l=b.default.GetQueryString("couponBusinessId");S=new m.default({couponBusinessId:l},A,E);break;case f.purchase:var u=b.default.GetQueryString("pid");S=new y.default({pid:u},A,E);break;case f.coinPurchase:var d=b.default.GetQueryString("gid");S=new w.default({pid:d},A,E);break;case f.receiveDayCoupon:S=new v.default(null,A,E);break;case f.secKillCoupon:S=new x.default(null,A,E);break;case f.GcConvert:S=new L.default(null,A,E);break;case f.mfreecoupon:var c=b.default.GetQueryString("roleId"),p=b.default.GetQueryString("key");S=new k.default({roleId:c,key:p},A,E);break;case h.monsterNian:P=new T.default(null,A,E),I.default.UAFlag=!0;break;case h.brandCitySpring:P=new C.default(null,A,E)}I.default.UAFlag&&((o=document.createElement("div")).innerHTML='<div style="border: 1px solid #000;margin:10px;font-weight:bold"><h2>该活动需要设置user-Agent为京东APP</h2><p><a style="color:red" href="https://jingyan.baidu.com/article/20095761d41761cb0621b46f.html" target="_blank">点击查看教程</a></p><p>部分浏览器插件会覆盖UA设置，请自行排查并关闭</p><p>【比如：京价保】</p><p style="color:red">提示：此功能会默认为作者战队助力一次，介意的请勿使用</p><button style="width: 120px;height:30px;background-color: #2196F3;border-radius: 5px;border: 0;color:#fff;margin:5px auto;display:block" onclick=Utils.copyText(Config.JDAppUA)>复制user-Agent</button></div>',A.append(o)),S?(I.default.intervalId=window.setInterval(U,I.default.intervalSpan),H(),S.get()):P?(H(),i=document.createElement("div"),(r=document.createElement("input")).setAttribute("style","width:80vw;height: 25px;font-size:14px;border: solid 1px #000;border-radius: 5px;margin: 10px auto;display: block;"),r.placeholder="请输入任务的提交间隔时间【默认:1500毫秒】",i.innerHTML='<p style="font-size:14px;">任务提交时间将会在设置提交间隔时间的基础上随机增加300~500毫秒</p>',i.append(r),r.onchange=function(){b.default.isNumber(+r.value)&&(I.default.timeoutSpan=+r.value||1500)},A.append(i),B(),P.get()):(b.default.loadCss("https://meyerweb.com/eric/tools/css/reset/reset200802.css"),(a=document.createElement("h4")).innerHTML='<h4>页面地址暂未被扩展或者有误！</h4><p>本插件只能在指定活动地址或领券地址使用！</p><p>如果这是个活动地址或领券地址，可以<a href="tencent://message/?uin=1244797556Menu=yes" target="_blank" title="发起QQ聊天">联系作者</a>扩展~</p>',j.append(a),(n=document.createElement("div")).setAttribute("style","border: 1px solid #000;margin:10px"),n.innerHTML='<h3 style=\'border-bottom: 1px solid #2196F3;display: inline-block;margin: 5px;\'>好券推荐</h3>\n    <p style="color:red;font-weight:bold;">\n    <a style="color:red" href="https://m.jr.jd.com/member/9GcConvert/?channel=01-shouye-191214" target="_blank">9金币抢兑</a>\n    </p>',A.append(n),B()),b.default.createJsonp(I.default.JDUserInfoURL+"&callback=getLoginMsg")}((N=f.none,window.location.host.includes("jd.com")&&(window.__react_data__?N=f.newBabelAwardCollection:window.Queries?N=f.whiteCoupon:I.default.locationHref.includes("gcmall/index.html#/details?pid=")?N=f.purchase:I.default.locationHref.includes("member/gcmall/index.html#/details?gid")?N=f.coinPurchase:I.default.locationHref.includes("plus.m.jd.com/coupon/")?N=f.receiveDayCoupon:I.default.locationHref.includes("9GcConvert")?N=f.GcConvert:/babelDiy\/(\S*)\/index/.test(I.default.locationHref)?N=f.secKillCoupon:/coupons\/show.action\?key=(\S*)&roleId=(\S*)/.test(I.default.locationHref)&&(N=f.mfreecoupon),I.default.locationHref.includes("bunearth.m.jd.com")&&(I.default.locationHref.includes("4PWgqmrFHunn8C38mJA712fufguU")?N=h.monsterNian:I.default.locationHref.includes("w6y8PYbzhgHJc8Lu1weihPReR2T")&&(N=h.brandCitySpring))),N)),console.clear(),window.console&&(console.group("%c京东领券助手","color:#009a61; font-size: 36px; font-weight: 400"),console.log("%c本插件仅供学习交流使用\n作者:krapnik \ngithub:https://github.com/krapnikkk/JDCouponAssistant","color:#009a61"),console.log("%c近三次更新内容：","color:#009a61"),console.log("%c【0.3.5】：新增每日自动完成活动任务；修复部分Bug","color:#009a61"),console.log("%c【0.3.4】：合并原作者更新内容；修改部分提示信息；修复按钮释放时机错误；新增为作者战队助力","color:#009a61"),console.log("%c【0.3.3】：合并原作者更新内容；优化提示信息；优化页面逻辑；修复活动部分错误并修改运行逻辑","color:#009a61"),console.log("%c本版本非原版，请支持原作者:krapnik","color:#ef5035; font-size:16px;"),console.groupEnd())},{"./activitys/MonsterNian":1,"./activitys/brandCitySpring":2,"./config/config":3,"./coupons/coinPurchase":4,"./coupons/gcConvert":5,"./coupons/mfreecoupon":6,"./coupons/newBabelAwardCollection":7,"./coupons/purchase":8,"./coupons/receiveDayCoupon":9,"./coupons/secKillCoupon":10,"./coupons/whtieCoupon":11,"./utils/utils":13}],13:[function(t,e,o){Object.defineProperty(o,"__esModule",{value:!0}),window.jsonpBind=function(t){n.jsonpBind(JSON.stringify(t))};var n=(r(a,null,[{key:"obtainLocal",value:function(t){return t.replace(/(?:(?:^|.*;\s*)3AB9D23F7A4B3C9B\s*=\s*([^;]*).*$)|^.*$/,"$1")}},{key:"getCookie",value:function(){return document.cookie}},{key:"formatDate",value:function(t){var e=new Date(+t),o=e.getHours(),n=e.getMinutes(),a=e.getSeconds(),i=e.getMilliseconds();return o<10&&(o="0"+o),n<10&&(n="0"+n),a<10&&(a="0"+a),i<10?i="00"+i:i<100&&10<=i&&(i="0"+i),o+""+n+a+i}},{key:"formatDate2",value:function(t){var e=new Date(+t),o=e.getFullYear(),n=e.getMonth()+1,a=e.getDate();return n<10&&(n="0"+n),a<10&&(a="0"+a),o+""+n+a}},{key:"GetQueryString",value:function(t){var e=new RegExp("(^|&)"+t+"=([^&]*)(&|$)"),o=window.location.search.substr(1).match(e);if(!o){var n=window.location.hash;o=n.substr(n.indexOf("?")+1,n.length-n.indexOf("?")).match(e)}return null!=o?o[2]:""}},{key:"getQueryStringByName",value:function(t){t=t.replace(/#.*/,"");var e=/\?[a-zA-Z0-9\=\&\%\$\-\_\.\+\!\*\'\(\)\,]+/.exec(t);return e?decodeURIComponent(e[0]):""}},{key:"formateTime",value:function(t){return Math.trunc(+t.replace(/[:|：]+/gi,""))}},{key:"createJsonp",value:function(t,e){var o=1<arguments.length&&void 0!==e&&e,n=document.createElement("script");o&&(t+="jsonpBind"),document.getElementsByTagName("head")[0].appendChild(n),n.setAttribute("src",t)}},{key:"jsonpBind",value:function(t){postMessage(t,"*")}},{key:"outPutLog",value:function(t,e){t.value?t.value=e+"\n"+t.value:t.value=e}},{key:"random",value:function(t,e){return Math.floor(Math.random()*(e-t+1)+t)}},{key:"copyText",value:function(t){if(""!==t){var e=document.querySelector(".oInput");e||((e=document.createElement("input")).className="oInput",document.body.appendChild(e)),e.style.display="block",e.value=t,e.select(),document.execCommand("Copy"),e.style.display="none",alert("内容已经复制到黏贴板啦")}else alert("好像没有需要复制的内容哦！")}},{key:"loadCss",value:function(t){var e=document.createElement("link");e.type="text/css",e.rel="stylesheet",e.href=t,document.getElementsByTagName("head")[0].appendChild(e)}},{key:"stringify",value:function(e){var o=this;return Object.keys(e).map(function(t){return console.log(),t+"="+(o.isObject(e[t])?JSON.stringify(e[t]):encodeURIComponent(e[t]))}).join("&")}},{key:"isObject",value:function(t){var e=void 0===t?"undefined":i(t);return null!=t&&("object"==e||"function"==e)}},{key:"isNumber",value:function(t){return"number"==typeof t&&!isNaN(t)}}]),a);function a(){s(this,a)}o.default=n},{}]},{},[12]);